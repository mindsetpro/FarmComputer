<!DOCTYPE html>
<html>
    <head>
        <title>Stardew Valley Fan Communities</title>
        <meta charset="utf-8">
        <link rel="icon" href="assets/cojiro.png" type="image/png">
        <link rel="stylesheet" href="css/base.css" type="text/css">
        <link rel="stylesheet" href="css/index.css" type="text/css">

        <meta property="og:title" content="Stardew Valley Fan Communities" />
        <meta property="og:url" content="https://stardew.chat" />
        <meta property="og:image" content="assets/cojiro.png" />
        <meta property="og:description" content="Join the fan communities of the popular Stardew Valley video game!" />

    <script>
        function fetchLeaderboard(isMonthly) {
            const apiUrl = 'fetch_data.php'; // Replace with the actual path to your PHP script

            // Fetch data from your PHP script
            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    // Process the data and update the leaderboard
                    const filteredData = isMonthly ? data : data;
                    const leaderboardElement = document.getElementById(isMonthly ? 'monthly' : 'alltime');
                    leaderboardElement.innerHTML = '';

                    filteredData.forEach(entry => {
                        const listItem = document.createElement('li');
                        listItem.textContent = `${entry.username} - Score: ${entry.msgCount}`;
                        leaderboardElement.appendChild(listItem);
                    });
                })
                .catch(error => console.error('Error fetching data:', error));
        }

        document.addEventListener('DOMContentLoaded', function () {
            // Initial fetch for monthly leaderboard
            fetchLeaderboard(true);
        });
    </script>
</head>
<body>
    <!-- Your HTML content here -->

    <div class="tab">
        <button class="tabbtn" id="monthlybtn" onclick="fetchLeaderboard(true)">This Month</button>
        <button class="tabbtn" id="alltimebtn" onclick="fetchLeaderboard(false)">All-Time</button>
    </div>
    <div id="monthly" class="tabcontent">
        <ul></ul>
    </div>
    <div id="alltime" class="tabcontent">
        <ul></ul>
    </div>

    <script src="js/tabs.js"></script>
</body>
</html>
